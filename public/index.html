<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="viewport" content="user-scalable=1.0,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,width=device-width,minimal-ui">
        <link href="index.css" rel="stylesheet">
	    <link rel="shortcut icon" type="image/x-icon" href="https://unitap-ink.herokuapp.com/splashscreen.png" />
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css" />
          <script src="//cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/js/emojify.min.js"></script>
	      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/2.6.0/math.min.js"></script>
	<script src="https://uni-tap.github.io/uc/js/jquery-1.11.2.min.js"></script>
	    <style>*{transition: .5s ease display;}.curs{height: 35px;
    width: 35px;
    background-color: white;
    border-radius: 35px;
    border: 3px solid white;
    box-shadow: rgba(0, 0, 0, 0.12) 0px 8px 16px 0px;}
		    img#data_user_img {
    height: 98%;
    width: 98%;
    border-radius: 100%;
    margin: 2%;
}
	    </style>
        <title>Uni-Tap</title>
    </head>
    <body oncontextmenu="return false;">
        <div class="board-top">
        <div class="board-top__left draggable">
            <div class="board-top-left-panel board-panel--transparent board-panel--hidden-top">
                <div class="svg-button" id="Leftbt"><svg class="svg-icon" viewBox="0 0 20 20">
							<path d="M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10"></path>
						</svg></div>
                <div class="board-panel__splitter"></div>
                <div class="middle-panel board-top-left-panel__title--editable board-top-left-panel__title" id="NewPage">Page - 1</div>
                <div class="board-panel__splitter"></div>
                <div class="svg-button" id="Rightbt"><svg class="svg-icon" viewBox="0 0 20 20">
							<path d="M12.522,10.4l-3.559,3.562c-0.172,0.173-0.451,0.176-0.625,0c-0.173-0.173-0.173-0.451,0-0.624l3.248-3.25L8.161,6.662c-0.173-0.173-0.173-0.452,0-0.624c0.172-0.175,0.451-0.175,0.624,0l3.738,3.736C12.695,9.947,12.695,10.228,12.522,10.4 M18.406,10c0,4.644-3.764,8.406-8.406,8.406c-4.644,0-8.406-3.763-8.406-8.406S5.356,1.594,10,1.594C14.643,1.594,18.406,5.356,18.406,10M17.521,10c0-4.148-3.374-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.147,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.147,17.521,10"></path>
						</svg></div>
            </div>
        <div class="undo-redo board-panel--transparent board-panel--hidden-top draggable">
            <div class="svg-button" id="undo">
                <svg viewBox="0 0 24 24" id="img__undo" width="100%" height="100%"><path d="M5 14.5C8.5 8 17.5 8 20 15M9.018 15H4l.018-5" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-width="2"></path></svg>
            </div>
            <div class="board-panel__splitter"></div>
            <div class="svg-button" id="redo">
                <svg viewBox="0 0 24 24" id="img__redo" width="100%" height="100%"><path d="M19 14.5C15.5 8 6.5 8 4 15m10.982 0H20l-.018-5" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-width="2"></path></svg>
            </div>
        </div>
        </div>
        <div class="board-top__right draggable">
        <div class="board-top-right-panel board-panel--transparent board-panel--hidden-top">
            <button class="rtb-button red">End Class</button>
            <div tooltip="Clear all" class="svg-button dropzone" id="clear"><svg id="clrsvg" class="svg-icon" viewBox="0 0 20 20">
							<path d="M17.114,3.923h-4.589V2.427c0-0.252-0.207-0.459-0.46-0.459H7.935c-0.252,0-0.459,0.207-0.459,0.459v1.496h-4.59c-0.252,0-0.459,0.205-0.459,0.459c0,0.252,0.207,0.459,0.459,0.459h1.51v12.732c0,0.252,0.207,0.459,0.459,0.459h10.29c0.254,0,0.459-0.207,0.459-0.459V4.841h1.511c0.252,0,0.459-0.207,0.459-0.459C17.573,4.127,17.366,3.923,17.114,3.923M8.394,2.886h3.214v0.918H8.394V2.886z M14.686,17.114H5.314V4.841h9.372V17.114z M12.525,7.306v7.344c0,0.252-0.207,0.459-0.46,0.459s-0.458-0.207-0.458-0.459V7.306c0-0.254,0.205-0.459,0.458-0.459S12.525,7.051,12.525,7.306M8.394,7.306v7.344c0,0.252-0.207,0.459-0.459,0.459s-0.459-0.207-0.459-0.459V7.306c0-0.254,0.207-0.459,0.459-0.459S8.394,7.051,8.394,7.306"></path>
						</svg></div>&nbsp;
		<div class="svg-button" id="calc-btn"  onclick="toggle('#calc')">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-17 5c0-1.654 1.346-3 3-3h6v9h-9v-6zm0 14v-6h9v9h-6c-1.654 0-3-1.346-3-3zm20 0c0 1.654-1.346 3-3 3h-6v-9h9v6zm0-8h-9v-9h6c1.654 0 3 1.346 3 3v6zm-2 6h-5v-1h5v1zm-5-11h5v1h-5v-1zm0 13v-1h5v1h-5zm-6-2v1h-2v2h-1v-2h-2v-1h2v-2h1v2h2zm-1.793-10.5l1.414 1.414-.707.707-1.414-1.414-1.414 1.414-.708-.707 1.414-1.414-1.414-1.414.707-.707 1.415 1.414 1.415-1.415.708.708-1.416 1.414zm9.793-2c0-.276.224-.5.5-.5s.5.224.5.5-.224.5-.5.5-.5-.224-.5-.5zm1 4c0 .276-.224.5-.5.5s-.5-.224-.5-.5.224-.5.5-.5.5.224.5.5z"/></svg>
		</div>
        </div>
        </div>
	    </div>
	    <div class="canvasContextMenu canvasContextMenu-hor" style="display:none;">
		    <div class="cm-items">
			    <div class="icon-box"></div>
                <div class="icon-box"></div>
                <div class="icon-box"></div>
                <div class="icon-box"></div>
                <div class="icon-box"></div>
                <div class="icon-box"></div>
		    </div>
	    </div>
	    <div class="tls_nav draggable">
            <div class="toolbar__item" id="Pan">
                <div class="toolbar__item__inner">
                    <svg viewBox="0 0 24 24" id="img__cursor-24" width="100%" height="100%">
                        <path fill="currentColor" fill-rule="evenodd" d="M7 19l4.394-2.59 1.86 4.661a1 1 0 0 0 1.3.558l.499-.2a1 1 0 0 0 .557-1.3l-1.86-4.66L18.5 14 7 2v17z"></path>
                    </svg>
                </div>
            </div>
            <div class="board-toolbar__customized-box">
                <div class="toolbar__item toolbar__item--customized" id="text">
                <div class="toolbar__item__inner Text">
                    <svg viewBox="0 0 24 24" id="newlayout__text" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M3 5a1 1 0 0 0 1 1h6v14a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V6h6a1 1 0 0 0 0-2H4a1 1 0 0 0-1 1z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" id="sticky">
                <div class="toolbar__item__inner">
                    <svg viewBox="0 0 24 24" id="newlayout__sticker" width="100%" height="100%"><path fill="currentColor" d="M4 4v16h9v-5a2 2 0 0 1 2-2h5V4H4zm0-2h16a2 2 0 0 1 2 2v10.172a2 2 0 0 1-.586 1.414l-5.828 5.828a2 2 0 0 1-1.414.586H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" onclick="toggle('.toolbar__panel--shapes')" id="Rectm">
                <div class="toolbar__item__inner Rectangle">
                    <svg viewBox="0 0 24 24" id="newlayout__shape-square" width="100%" height="100%"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2" d="M3 3h18v18H3z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" id="Linem">
                <div class="Line toolbar__item__inner" >
                    <svg viewBox="0 0 24 24" id="newlayout__link-arrow" width="100%" height="100%"><path fill="currentColor" d="M14.293 8.293l-11 11a1 1 0 0 0 1.414 1.414l11-11L18 12l3-9-9 3 2.293 2.293z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" onclick="toggle('.toolbar__panel--draw')" id="penm">
                <div class="toolbar__item__inner Pen">
                    <svg viewBox="0 0 24 24" id="newlayout__pen" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M22.086 4.586a2 2 0 0 1 0 2.828L9.914 19.586l-5.43 1.11a1 1 0 0 1-1.18-1.18l1.11-5.43L16.586 1.914a2 2 0 0 1 2.828 0l2.672 2.672zm-7.593 2.25l-8.24 8.24-.687 3.358 3.359-.687 8.24-8.24-2.672-2.671zm1.414-1.414l2.671 2.671L20.672 6 18 3.328l-2.093 2.094z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" id="cmmnt">
                <div class="toolbar__item__inner">
                    <svg viewBox="0 0 24 24" id="newlayout__comment" width="100%" height="100%"><path fill="currentColor" d="M4 6v12.006L9.828 18 12 20.172 14.172 18h5.822L20 6H4zm0-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-5l-3 3-3-3H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm4 5a1 1 0 1 0 0 2h8a1 1 0 0 0 0-2H8zm0 4a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2H8z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" id="graph">
                <div class="toolbar__item__inner" >
                    <svg viewBox="0 0 24 24" id="newlayout__frames" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M6 5h12V3a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2h-2v10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H6v2a1 1 0 0 1-2 0v-2H2a1 1 0 0 1 0-2h2V7H2a1 1 0 1 1 0-2h2V3a1 1 0 1 1 2 0v2zm0 2v10h12V7H6z"></path></svg>
                </div>
            </div>
                <div class="toolbar__item toolbar__item--customized" onclick="toggle('.frameSRC')">
                <div class="toolbar__item__inner" >
                    <svg viewBox="0 0 24 24" id="newlayout__upload" width="100%" height="100%"><path fill="currentColor" d="M11 11.914L9.414 13.5A1 1 0 1 1 8 12.086l4-4 4 4a1 1 0 0 1-1.414 1.414L13 11.914V21.5a1 1 0 0 1-2 0v-9.586zM16 20a1 1 0 0 1 1-1h3V4H4v15h3a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v17a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1z"></path></svg>
                </div>
            </div>
            </div>
            <div class="toolbar__panel toolbar__panel--shapes use-ng-animate draggable" style="top: 16px;display:none;" onclick="toggle('.toolbar__panel--shapes');">
                <div class="draw-tools-box">
                    <div style="margin-left:80px;margin-top:-20px;" class="svg-button draw-tools-box__close" onclick="toggle('.toolbar__panel--shapes')">
                        <svg viewBox="0 0 24 24" id="img__close-24" width="100%" height="100%"><path fill="currentColor" d="M10.586 12l-6.293 6.293a1 1 0 0 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 0 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 1 0-1.414-1.414L12 10.586 5.707 4.293a1 1 0 0 0-1.414 1.414L10.586 12z"></path></svg>
                    </div>
                </div>
                <div class="toolbar__panel__item Rectangle">
                <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#newlayout__shape-square" ng-attr-xlink:href="{{shapeTool.icon}}"></use> </svg>
                </div>
                <div class="toolbar__panel__item">
                    <svg viewBox="0 0 24 24" id="newlayout__shape-rounded" width="100%" height="100%"><path fill="currentColor" d="M7 4a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm0-2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z"></path></svg>
                </div>
                <div class="toolbar__panel__item Circle">
                    <svg viewBox="0 0 24 24" id="newlayout__shape-oval" width="100%" height="100%"><circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"></circle></svg>
                </div>
                <div class="toolbar__panel__item Triangle">
                    <svg viewBox="0 0 24 24" id="newlayout__shape-triangle" width="100%" height="100%"><path fill="currentColor" d="M12 4.922L4.197 19h15.606L12 4.922zm.875-2.58l9.484 17.175A1 1 0 0 1 21.484 21H2.516a1 1 0 0 1-.875-1.483l9.483-17.175a1 1 0 0 1 1.751 0z"></path></svg>
                </div>
                <div class="toolbar__panel__item diamond" >
                    <svg viewBox="0 0 24 24" id="newlayout__shape-rhombus" width="100%" height="100%"><path fill="currentColor" d="M12 2.617L2.617 12 12 21.383 21.383 12 12 2.617zm.707-2.121l10.797 10.797a1 1 0 0 1 0 1.414L12.707 23.504a1 1 0 0 1-1.414 0L.496 12.707a1 1 0 0 1 0-1.414L11.293.496a1 1 0 0 1 1.414 0z"></path></svg>
                </div>
                <div class="toolbar__panel__item right_triangle">
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
    <polygon style="fill:transparent;stroke:black;stroke-width:10" points="0 0, 100 100, 0 100"></polygon>
</svg>                </div>
                <div class="toolbar__panel__item" >
                    <svg viewBox="0 0 24 24" id="newlayout__shape-parall" width="100%" height="100%"><path fill="currentColor" d="M6.463 5L2.544 19h14.993l3.919-14H6.463zm-.758-2h17.07a1 1 0 0 1 .962 1.27l-4.479 16a1 1 0 0 1-.963.73H1.225a1 1 0 0 1-.962-1.27l4.479-16A1 1 0 0 1 5.705 3z"></path></svg>
                </div>
            </div>
            <div class="toolbar__panel toolbar__panel--draw draggable" style="display: none;">
                <div onclick="toggle('.toolbar__panel--draw');" class="draw-tools-box">
                    <div class="svg-button Pen toolbar__panel__item">
                        <svg viewBox="0 0 24 24" id="newlayout__pen" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M22.086 4.586a2 2 0 0 1 0 2.828L9.914 19.586l-5.43 1.11a1 1 0 0 1-1.18-1.18l1.11-5.43L16.586 1.914a2 2 0 0 1 2.828 0l2.672 2.672zm-7.593 2.25l-8.24 8.24-.687 3.358 3.359-.687 8.24-8.24-2.672-2.671zm1.414-1.414l2.671 2.671L20.672 6 18 3.328l-2.093 2.094z"></path></svg>
                    </div>
                <div class="svg-button Eraser toolbar__panel__item">
                        <svg viewBox="0 0 24 24" id="newlayout__eraser" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M18 19a1 1 0 0 1 0 2H5.586l-2.879-2.879a3 3 0 0 1 0-4.242L12.88 3.707a3 3 0 0 1 4.242 0l4.172 4.172a3 3 0 0 1 0 4.242L14.414 19H18zm-1.707-4.707l-5.586-5.586-6.586 6.586a1 1 0 0 0 0 1.414L6.414 19h5.172l4.707-4.707z"></path></svg>
                    </div>
                <div class="svg-button draw-tools-box__close" onclick="toggle('.toolbar__panel--draw');toggle('.toolbar__panel--draw')">
                        <svg viewBox="0 0 24 24" id="img__close-24" width="100%" height="100%"><path fill="currentColor" d="M10.586 12l-6.293 6.293a1 1 0 0 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 0 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 1 0-1.414-1.414L12 10.586 5.707 4.293a1 1 0 0 0-1.414 1.414L10.586 12z"></path></svg>
                    </div>
                <div class="svg-button" onclick="toggle('.toolbar__panel--draw')">
                    <select id="thickness">
                        <option value="3">1</option>
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                    </select>
                    </div>
                </div>
                <div class="fill-type toolbar__panel--draw draw-tools-box">
                    <div class="svg-button" id="pen"><svg viewBox="0 0 24 24">
							<path d="M18.303,4.742l-1.454-1.455c-0.171-0.171-0.475-0.171-0.646,0l-3.061,3.064H2.019c-0.251,0-0.457,0.205-0.457,0.456v9.578c0,0.251,0.206,0.456,0.457,0.456h13.683c0.252,0,0.457-0.205,0.457-0.456V7.533l2.144-2.146C18.481,5.208,18.483,4.917,18.303,4.742 M15.258,15.929H2.476V7.263h9.754L9.695,9.792c-0.057,0.057-0.101,0.13-0.119,0.212L9.18,11.36h-3.98c-0.251,0-0.457,0.205-0.457,0.456c0,0.253,0.205,0.456,0.457,0.456h4.336c0.023,0,0.899,0.02,1.498-0.127c0.312-0.077,0.55-0.137,0.55-0.137c0.08-0.018,0.155-0.059,0.212-0.118l3.463-3.443V15.929z M11.241,11.156l-1.078,0.267l0.267-1.076l6.097-6.091l0.808,0.808L11.241,11.156z"></path>
						</svg></div>
                    <div class="svg-button" id="bg">
                        <svg viewBox="0 0 24 24" id="newlayout__shape-rounded" width="100%" height="100%"><path fill="currentColor" d="M7 4a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm0-2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z"></path></svg> </div>
                    <div class="svg-button" id="fill">shp</div>
                </div>
                <div onclick="toggle('.toolbar__panel--draw');" class="colorPalette">
                    <div class="colorPalette_circle #f2f2f2 btn" style="background-color:#f2f2f2;"></div>
                    <div class="colorPalette_circle yellow btn" style="background-color:yellow;"></div>
                    <div class="colorPalette_circle #fac710 btn" style="background-color:#fac710;"></div>
                    <div class="colorPalette_circle #f24726 btn" style="background-color:rgb(242, 71, 38);"></div>
                    <div class="colorPalette_circle #e6e6e6 btn " style="background-color:rgb(230, 230, 230);"></div>
                    <div class="colorPalette_circle #cee741 btn " style="background-color:rgb(206, 231, 65);"></div>
                    <div class="colorPalette_circle #8fd14f btn " style="background-color:rgb(143, 209, 79);"></div>
                    <div class="colorPalette_circle #da0063 btn " style="background-color:rgb(218, 0, 99);"></div>
                    <div class="colorPalette_circle #808080 btn " style="background-color:rgb(128, 128, 128);"></div>
                    <div class="colorPalette_circle #12cdd4 btn " style="background-color:rgb(18, 205, 212);"></div>
                    <div class="colorPalette_circle #0ca789 btn " style="background-color:rgb(12, 167, 137);"></div>
                    <div class="colorPalette_circle #9510ac btn " style="background-color:rgb(149, 16, 172);"></div>
                    <div class="colorPalette_circle #1a1a1a btn " style="background-color:rgb(26, 26, 26);"></div>
                    <div class="colorPalette_circle #2d9bf0 btn " style="background-color:rgb(45, 155, 240);"></div>
                    <div class="colorPalette_circle #414bb2 btn " style="background-color:rgb(65, 75, 178);"></div>
                    <div class="colorPalette_circle #652cb3 btn " style="background-color:rgb(101, 44, 179);"></div>
                </div>
            </div>
            <div class="toolbar__panel toolbar__panel--stickers draggable" style="display:none;">
                <div class="toolbar__panel__item">
                    <svg style="color:rgb(245, 246, 248)" viewBox="0 0 48 48" id="img__sticker-dummy" width="100%" height="100%"><g fill="none" fill-rule="evenodd"><path fill="#353535" opacity=".5" filter="url(#ina)" d="M8 39h32v5H8z"></path><path fill="#353535" opacity=".5" filter="url(#inb)" d="M8 39h32v5H8z"></path><path fill="currentColor" d="M4 4h40v40H4z"></path></g></svg>
                </div>
            </div>
            </div>
        <div class="bottom-bar board-panel--transparent board-panel--hidden-bottom draggable">
            <div class="bottom-bar__inner" style="display:flex;">
                <div class="svg-button" onclick="toggle('.video-chat');">
                   <svg viewBox="0 0 24 24">
							<path d="M17.919,4.633l-3.833,2.48V6.371c0-1-0.815-1.815-1.816-1.815H3.191c-1.001,0-1.816,0.814-1.816,1.815v7.261c0,1.001,0.815,1.815,1.816,1.815h9.079c1.001,0,1.816-0.814,1.816-1.815v-0.739l3.833,2.478c0.428,0.226,0.706-0.157,0.706-0.377V5.01C18.625,4.787,18.374,4.378,17.919,4.633 M13.178,13.632c0,0.501-0.406,0.907-0.908,0.907H3.191c-0.501,0-0.908-0.406-0.908-0.907V6.371c0-0.501,0.407-0.907,0.908-0.907h9.079c0.502,0,0.908,0.406,0.908,0.907V13.632zM17.717,14.158l-3.631-2.348V8.193l3.631-2.348V14.158z"></path>
						</svg>
                </div>
                <div class="svg-button" onclick="toggle('.chat_body')">
                    <svg viewBox="0 0 24 24" id="img__chat" width="100%" height="100%"><path fill="currentColor" fill-rule="evenodd" d="M21 15h-5v3a2 2 0 0 1-2 2H3l-3 3V10a2 2 0 0 1 2-2h4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v13l-3-3zM2 10v8h12v-8H2zm6-5v3h6a2 2 0 0 1 2 2v3h6V5H8z"></path></svg>
                </div>
                <div class="svg-button" onclick="toggle('.btm_users')">
                    <svg viewBox="0 0 24 24">
							<path d="M15.573,11.624c0.568-0.478,0.947-1.219,0.947-2.019c0-1.37-1.108-2.569-2.371-2.569s-2.371,1.2-2.371,2.569c0,0.8,0.379,1.542,0.946,2.019c-0.253,0.089-0.496,0.2-0.728,0.332c-0.743-0.898-1.745-1.573-2.891-1.911c0.877-0.61,1.486-1.666,1.486-2.812c0-1.79-1.479-3.359-3.162-3.359S4.269,5.443,4.269,7.233c0,1.146,0.608,2.202,1.486,2.812c-2.454,0.725-4.252,2.998-4.252,5.685c0,0.218,0.178,0.396,0.395,0.396h16.203c0.218,0,0.396-0.178,0.396-0.396C18.497,13.831,17.273,12.216,15.573,11.624 M12.568,9.605c0-0.822,0.689-1.779,1.581-1.779s1.58,0.957,1.58,1.779s-0.688,1.779-1.58,1.779S12.568,10.427,12.568,9.605 M5.06,7.233c0-1.213,1.014-2.569,2.371-2.569c1.358,0,2.371,1.355,2.371,2.569S8.789,9.802,7.431,9.802C6.073,9.802,5.06,8.447,5.06,7.233 M2.309,15.335c0.202-2.649,2.423-4.742,5.122-4.742s4.921,2.093,5.122,4.742H2.309z M13.346,15.335c-0.067-0.997-0.382-1.928-0.882-2.732c0.502-0.271,1.075-0.429,1.686-0.429c1.828,0,3.338,1.385,3.535,3.161H13.346z"></path>
						</svg>
                </div>

            </div>
            <div onclick="document.querySelector('.bottom-bar__inner').style.width = '0px';" class="bottom-bar__toggle svg-button">
                <svg viewBox="0 0 24 24" id="img__scroll-up" width="100%" height="100%"><path d="M9 17l3-3 3 3m-6-6l3-3 3 3" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-width="2"></path></svg>
            </div>
            <div class="btm_users draggable board-panel--transparent" style="display:none;">
                <ul id="usersCount">
                    
                </ul>
            </div>
        </div>
        <div class="btm_cont draggable">
        <div class="resize-drag video-chat board-panel--transparent board-panel--hidden-bottom video-chat--pinned video-chat--with-buttons" style="display:block;@media only screen and (max-height: 500px){display:none !important;}">
            <div class="video-cont">
                <div id="localVideo" style="margin-left: 100px;"></div>
                <div id="remotesVideos"></div>
            </div>
            <div class="video-controls"></div>
        </div>
        <div class="chat_body resize-drag" style="display:block;">
  <div class="chat_head ">
      <p><b id="cls_title">Maths Class</b></p>
  </div>
    <div class="chat_msgs">
        <ul class="chats" id="chats">
        </ul>
    </div>
    <div class="chat_form" onsubmit="profanity_filter()">
                    <div class="opt" style="display:none;">
    <ul>
      <li><button onclick="block()">Block</button></li>
      <li><button onclick="report()">Report</button></li>
      <li><button onclick="hide()">Hide</button></li>
    </ul>
</div>
        <span class="sm"><div class="sml" onclick="toggle('.emoji_center')"><img src="https://static.xx.fbcdn.net/images/emoji.php/v9/z88/1/32/1f600.png"></div></span>
        <input onkeypress="return runScript(event)" onkeyup="if(this.value != ''){document.querySelector('.placeholder').style.display='none';}" type="text" class="chat_msg" name="msg" id="msg"/>
        <input id="send" value="" type="button">
        <label for="msg" class="placeholder" style="display: block;">Type something...</label>
        <span class="attachments" onclick="attc_drawer();">+</span>
        <div style="display:none;"class="drawer">
            <div class="dr_btn" id="image_s">Image</div>
            <div class="dr_btn" id="video_s">Video</div>
            <div class="dr_btn" id="audio_s">Audio</div>
        </div>
        <div class="notif" style="display:none;">
            <p id="n_msg"></p>
        </div>
        <div class="emoji_center" style="display:none;">
            <div class="tab_1">
                <ul>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                    <li><img src="images/emoji/smile.png"></li>
                </ul>
            </div>
        </div>
    </div>
    <p id="cht_clr" style="color:white;font-size:.2px"></p>
</div>
            </div>
        <div class="add_elem" id="add_elem"></div>
        <canvas id="canvas" class="whiteboard" oncontextmenu="return false;" width="1920" height="959"></canvas>
        <canvas id="page1" class="storeboard" width="1920" height="959"></canvas>
        <div class="animcolor" id="animcolor" style="display:none;"></div>
        <div ondragstart="dragStart(event)" style="display:none;" ondblclick="toggle('.frameLoader');" class="frameLoader board-panel--transparent draggable">
          <iframe id="fileFrame" src="http://uni-tap.co/hdkfh"></iframe>
        </div>
        <div class="frameSRC board-panel--transparent" style="display:none;"><center>
            <input type="url" id="frameURL" placeholder="Paste the embeding URL of YouTube video.."/>
            <input type="button" id="loadFrameURL" value="Load" onclick="toggle('.frameLoader');toggle('.frameSRC')" />
            </center>
        </div>
	  <div id="curs" class="curs draggable" style="display: none;"></div>
	  <div id="calc" class="draggable" style="display:none;">
    <button style="position:absolute;top:5px;right:10px;height:20px;width:20px;border-radius:20px;border:none;color:white;background-color:#f25757;text-align:center;" onclick="toggle('#calc');">x</button>
    <iframe src="https://uni-tap.github.io/uc/calc.html"></iframe>
  </div>
    </body>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unitap-ink.herokuapp.com/interact.js"></script>
    <script src="https://unitap-ink.herokuapp.com/element.js"></script>
    <script src="tutorial.js"></script>
    <script src="chat.js"></script>
    <script src="main.js"></script>
    <script src="imports.js"></script>
    <script src="https://simplewebrtc.com/latest-v2.js"></script>
    <script>
	    setInterval( checkFocus, 200 );
	    var version = '1.3.6';
	    var room_id = 'UTINK~~'+version+':'+find('api');
	    function find(name) {
    var url = window.location.search;
    var num = url.search(name);
    var namel = name.length;
    var frontlength = namel + num + 1; //length of everything before the value
    var front = url.substring(0, frontlength);
    url = url.replace(front, "");
    num = url.search("&");
    if (num >= 0) return url.substr(0, num);
    if (num < 0) return url;
  }
		    function checkFocus() {
  if ( document.hasFocus() ) {
    console.log("The document has the focus.");
  } else {
    if(sessionStorage.pst !='T' || sessionStorage.pst !='ADMIN' || sessionStorage.pst !='t'){
    //alert("Dont leave class in between");
  }else{
    console.log('No focus');
  }
  }
}
socket.emit('user_attached', {
	user: find('user'),
	id: find('id'),
	api: find('api')
});
	    socket.emit('get_users', {
	       user: find('user'),
	       api: find('api') 	    
	    });
	    socket.on('take_attc_users', function(data){
	      gotten = 1;
		if(gotten == 1){return;}    
	      var newusr = document.createElement('li');
	     var newusrdpcont = document.createElement('div');
	     var newusrdp = document.createElement('img');
		 newusrdpcont.className = 'dpCont';
		 //newusrdp.src = 'http://uni-tap.co/nusr/dp.php?id='+data.id;
	     var centerdiv = document.createElement('center');
		 newusr.appendChild(newusrdpcont);
		 newusr.appendChild(centerdiv);
		 newusrdpcont.appendChild(newusrdp);
		 document.querySelector('#usersCount').appendChild(newusr);
		 //centerdiv.innerHTML = data.user;
		 crrntUsers.push.apply(data.users);	    
	    });
        function toggle(elem){
            var obj = document.querySelector(elem);
            if(obj.style.display == 'none'){
              obj.style.display = 'block';
            }else if(obj.style.display == 'block'){
              obj.style.display = 'none';
            }
        }
        window.onclick = function(event) {

  if (!event.target.matches('.tls_nav')) {

    var dropdowns = document.getElementsByClassName("mmenu");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.style.display == 'block') {
        openDropdown.style.display = 'none';
      }
    }
  }
}
        function runScript(e) {
    if (e.keyCode == 13) {
        document.getElementById('send').click();
        document.getElementById('msg').value = '';
        return false;
    }
}
	 //VIDEO AND AUDIO CHATTING AREA
  var webrtc = new SimpleWebRTC({
    // the id/element dom element that will hold "our" video
    localVideoEl: 'localVideo',
    // the id/element dom element that will hold remote videos
    remoteVideosEl: 'remotesVideos',
    // immediately ask for camera access
    autoRequestMedia: true
  });
  // we have to wait until it's ready
  webrtc.on('readyToCall', function() {
    // you can name it anything
    webrtc.joinRoom(room_id);
  });
  var loadbox = document.querySelector('.frameLoader');
  function dragStart(e){
    console.log('dragged');
    socket.emit('drags',{
    style: loadbox.style.transform,
    user: sessionStorage.usr
  });
  }
socket.on('drags', function(data){
if(data.user != sessionStorage.usr){
    loadbox.style.transform = data.style;
    console.log(data.style);
}
});

    </script>
    <script>
    var opt_usr_id;
    var block_qty = 0;
    var blocked =[];
 function attc_drawer(){
     if(document.querySelector('.drawer').style.display == "none"){
          document.querySelector('.drawer').style.display = "block";
          document.querySelector('#msg').style.height = "34%";
     }else if( document.querySelector('.drawer').style.display == "block"){
          document.querySelector('.drawer').style.display = "none";
          document.querySelector('#msg').style.height = "100%";
     }
 }
    function options(dp, id){
        var opt_box = document.querySelector('.opt');
            opt_usr_id = id;
            opt_box.style.display = 'block';
    }
    function notif(n_msg){
        document.querySelector('.notif').style.display = 'block';
        document.querySelector('#msg').style.height = "34%";
        document.querySelector('#n_msg').innerHTML = n_msg;
        setTimeout(function(){
            document.querySelector('.notif').style.display = 'none';
            document.querySelector('#msg').style.height = "100%";
            document.querySelector('#n_msg').innerHTML = '';
        }, 3000);
    }
    function block(usr){
       if(block_qty == 5){
           notif('You have reached the limit of blocking people.');
       }else{
           var elements = document.getElementsByClassName('r_msg');
        for (var i = 0; i < elements.length; i++) {
        if(elements[i].getAttribute('data-usr') == opt_usr_id){
        elements[i].style.display = 'none';
        notif('<b>'+opt_usr_id +'</b> is blocked by you');
        //console.log(opt_usr_id);
        //hide();
       }
            }
           blocked.push(opt_usr_id);
           block_qty = block_qty + 1;
           toggle('.opt');
        }
    }
    function report(){

    }
    function hide(){
        var elements = document.getElementsByClassName('r_msg');
        for (var i = 0; i < elements.length; i++) {
        if(elements[i].getAttribute('data-usr') == opt_usr_id){
        elements[i].style.display = 'none';
        notif('This message will no longer be visible to you');
        toggle('.opt');
        }
        }
    }
        function addComment(){

        }
     var socket = io();
     var crrntUsers[];	    
     socket.on('user_attached', function(data){
	     if(data.api == find('api')){
		//if(data.user != find('user')){     
	     //for (i = 0; i < data.length; i++) {
	     var newusr = document.createElement('li');
	     var newusrdpcont = document.createElement('div');
	     var newusrdp = document.createElement('img');
		 newusrdpcont.className = 'dpCont';
		 newusrdp.src = 'http://uni-tap.co/nusr/dp.php?id='+data.id;
	     var centerdiv = document.createElement('center');
		 newusr.appendChild(newusrdpcont);
		 newusr.appendChild(centerdiv);
		 newusrdpcont.appendChild(newusrdp);
		 document.querySelector('#usersCount').appendChild(newusr);
		 centerdiv.innerHTML = data.user;
		 crrntUsers.push(data.user+'~'+data.id);    
		//}else{return;}
	     }else{return;}
	     //}
     });
     socket.on('get users', function(data){
       if(data.api != find('api')){return;}else{
       	     if(data.user != find('user')){
       socket.emit('take_attc_users'{
		   for: data.user,
		   api: find('api'),
	           users: crrntUsers
		   });
       }else{return;}
     }
     });	    
	    /*window.onload = function(){
	    	socket.emit('user_attached', {
		api: find('api'),
		user: sessionStorage.usr
		});
	    };*/
    </script>
    <script>
    /*    interact('.dropzone').dropzone({
  // only accept elements matching this CSS selector
  accept: '.frameLoader',
  // Require a 75% element overlap for a drop to be possible
  overlap: 0.75,

  // listen for drop related events:

  ondropactivate: function (event) {
    // add active dropzone feedback
    event.target.classList.add('drop-active');
  },
  ondragenter: function (event) {
    var draggableElement = event.relatedTarget,
        dropzoneElement = event.target;

    // feedback the possibility of a drop
    dropzoneElement.classList.add('drop-target');
    draggableElement.classList.add('can-drop');
    draggableElement.textContent = 'Dragged in';
  },
  ondragleave: function (event) {
    // remove the drop feedback style
    event.target.classList.remove('drop-target');
    event.relatedTarget.classList.remove('can-drop');
    event.relatedTarget.textContent = 'Dragged out';
  },
  ondrop: function (event) {
    event.relatedTarget.textContent = 'Dropped';
  },
  ondropdeactivate: function (event) {
    // remove active dropzone feedback
    event.target.classList.remove('drop-active');
    event.target.classList.remove('drop-target');
    toggle('.frameLoader');
  }
});
    var element = document.querySelector('.frameLoader'),
    x = 0, y = 0;

interact(element)
  .draggable({
    snap: {
      targets: [
        interact.createSnapGrid({ x: 30, y: 30 })
      ],
      range: Infinity,
      relativePoints: [ { x: 0, y: 0 } ]
    },
    inertia: true,
    restrict: {
      restriction: element.parentNode,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 },
      endOnly: true
    }
  })
  .on('dragmove', function (event) {
    x += event.dx;
    y += event.dy;

    event.target.style.webkitTransform =
    event.target.style.transform =
        'translate(' + x + 'px, ' + y + 'px)';
  });
      //window.onload =   animate();*/
    </script>
    <script>
	    var post = find('post');
	    var aclass = find('allowedclasses');
	    var user = find('user');
	    var uId = find('id');

	    function hideA(elem){
            var obj = document.querySelector(elem);
            if(obj.style.display == 'none'){
              obj.style.display = 'block';
            }else if(obj.style.display == 'block' || !obj.style.display){
              obj.style.display = 'none';
            }
        }
	    //validation rule 1
	    if(post == 'S' || post == 's'){
		hideA('#text');
		hideA('#sticky');
		hideA('#Linem');
		hideA('#penm');
		hideA('#Rectm');
		hideA('.board-top-right-panel');
		hideA('.undo-redo');
		hideA('#graph');    
		document.querySelector('.tls_nav').style.height = '150px';
		document.querySelector('.board-toolbar__customized-box').style.height = '150px';
		document.querySelector('.tls_nav').style.top = '225px';
	    }
    </script>

	<script>
	   var matches = [];
var searchEles = document.getElementById("remotesVideos").children;
		setInterval( getVideoNames, 200 );
function getVideoNames(){
for(var i = 0; i < searchEles.length; i++) {
    if(searchEles[i].tagName == 'VIDEO') {
        if(searchEles[i].id.indexOf('q1_') == 0) {
            matches.push(searchEles[i]);
	    console.log(matches);
        }
    }
}
}
	</script>
</html>
